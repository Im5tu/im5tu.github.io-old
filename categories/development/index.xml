<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Development on Stuart Blackler&#39;s Blog</title>
    <link>https://im5tu.io/categories/development/index.xml</link>
    <description>Recent content in Development on Stuart Blackler&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="https://im5tu.io/categories/development/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Ensuring httpOnly cookies with URL Rewrite</title>
      <link>https://im5tu.io/article/2017/06/ensuring-httponly-cookies-with-url-rewrite/</link>
      <pubDate>Tue, 06 Jun 2017 15:01:04 +0100</pubDate>
      
      <guid>https://im5tu.io/article/2017/06/ensuring-httponly-cookies-with-url-rewrite/</guid>
      <description>&lt;p&gt;In this article, I will give a brief overview of cookies, why we want them to be httpOnly and how we can ensure this via URL Rewrite. We will also be creating our first outbound rewrite rule with a pre-condition.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;See my &lt;a href=&#34;https://im5tu.io/article/2017/06/removing-trailing-slashes-with-url-rewrite/&#34;&gt;previous posts&lt;/a&gt; for information on inbound rewrite rules.&lt;/p&gt;

&lt;h2 id=&#34;what-are-cookies&#34;&gt;What are cookies?&lt;/h2&gt;

&lt;p&gt;Unfornately, in this sense they are not a snack. They are, usually, small bits of information continually transferred between the browser and the server in order to do things like session tracking &amp;amp; identification, or maintain informantion pertainent to your browsing session. If not secured in the right way, you can expose details of your browsing session unknowingly. First up, we can make the cookies &lt;code&gt;httpOnly&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&#34;what-are-httponly-cookies&#34;&gt;What are httpOnly cookies?&lt;/h2&gt;

&lt;p&gt;By adding the modifier to the cookie, we prevent any scripts running from accessing the cookie. The biggest benefit here is protection against Cross-Site Scripting, or XSS. Unless you have very specific requirements for cookies, this flag should always be enabled.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;For more information, checkout &lt;a href=&#34;https://scotthelme.co.uk/tough-cookies/&#34;&gt;Scott Helme&amp;rsquo;s incredible post&lt;/a&gt; on getting tougher cookies.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;how-can-we-ensure-our-cookies-are-httponly-with-url-rewrite&#34;&gt;How can we ensure our cookies are httpOnly with URL Rewrite&lt;/h2&gt;

&lt;p&gt;When a server indicates that it wants to set a cookie, it does so by sending the &lt;code&gt;Set-Cookie&lt;/code&gt; HTTP header along with the response. There are a few modifiers that this can have to make them more secure in compliant browsers (eg: Chrome, Firefox, Edge, Safari): &lt;code&gt;httpOnly&lt;/code&gt;, &lt;code&gt;secure&lt;/code&gt; and &lt;code&gt;sameSite=(lax|strict)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This rewrite snippet requires two portions: the rule and a set of precondtions.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;rewrite&amp;gt;
    &amp;lt;outboundRules&amp;gt;
        &amp;lt;rule name=&amp;quot;Ensure httpOnly Cookies&amp;quot; preCondition=&amp;quot;Missing httpOnly cookie&amp;quot;&amp;gt;
            &amp;lt;match serverVariable=&amp;quot;RESPONSE_Set_Cookie&amp;quot; pattern=&amp;quot;.*&amp;quot; negate=&amp;quot;false&amp;quot; /&amp;gt;
            &amp;lt;action type=&amp;quot;Rewrite&amp;quot; value=&amp;quot;{R:0}; HttpOnly&amp;quot; /&amp;gt;
        &amp;lt;/rule&amp;gt;
        &amp;lt;preConditions&amp;gt;
            &amp;lt;preCondition name=&amp;quot;Missing httpOnly cookie&amp;quot;&amp;gt;
                &amp;lt;!-- Don&#39;t remove the first line! --&amp;gt;
                &amp;lt;add input=&amp;quot;{RESPONSE_Set_Cookie}&amp;quot; pattern=&amp;quot;.&amp;quot; /&amp;gt;
                &amp;lt;add input=&amp;quot;{RESPONSE_Set_Cookie}&amp;quot; pattern=&amp;quot;; HttpOnly&amp;quot; negate=&amp;quot;true&amp;quot; /&amp;gt;
            &amp;lt;/preCondition&amp;gt;
        &amp;lt;/preconditions&amp;gt;
    &amp;lt;/outboundRules&amp;gt;
&amp;lt;/rewrite&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Within our rule, we are defining the name of the rule which can be viewed inside of &lt;code&gt;inetmgr (IIS Manager)&lt;/code&gt;. In previous posts we have added the attribute to stop processing, but here we want to continue processing rewrite rules because we may want to do additional work to the response. Next, we match the server varible for a &lt;code&gt;Set-Cookie&lt;/code&gt; HTTP header (&lt;code&gt;RESPONSE_Set_Cookie&lt;/code&gt;) and ensure that it&amp;rsquo;s present for us to continue. For our action, we rewrite the &lt;code&gt;Set-Cookie&lt;/code&gt; header to be the original value, with the &lt;code&gt;HttpOnly&lt;/code&gt; modifier appended.&lt;/p&gt;

&lt;p&gt;Within the precondition, which is matched by name to the &lt;code&gt;preCondition&lt;/code&gt; attribute in the rule, we do two things:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(&lt;em&gt;I think, see below&lt;/em&gt;) Make sure that the &lt;code&gt;Set-Cookie&lt;/code&gt; header has been set (via the server variable &lt;code&gt;{RESPONSE_Set_Cookie}&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;Make sure that we do not already have the &lt;code&gt;HttpOnly&lt;/code&gt; modifier set&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For an unknown reason, probably due to a knowledge gap, the first line is required. I have made a guess as to what this could be, but I am unsure. Strange things happen in the dev tools in Chrome if that first line is not there.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;It is worth noting that a precondition is not limited to a single rule, it can be re-used. There is probably scope for making this rule smaller, if there is i&amp;rsquo;ll edit the post to reflect the smaller rule.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s it. If you check your debug tool of choice after implementing this, you should see that all cookies are now sent with the &lt;code&gt;HttpOnly&lt;/code&gt; modifier.&lt;/p&gt;

&lt;h2 id=&#34;other-posts-in-this-series&#34;&gt;Other Posts In This Series&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/up-and-running-with-url-rewrite---going-from-http-to-https/&#34;&gt;Up and running with URL Rewrite - going from HTTP to HTTPS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/canonical-host-urls-with-url-rewrite/&#34;&gt;Canonical host urls with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/removing-trailing-slashes-with-url-rewrite/&#34;&gt;Removing trailing slashes with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-httponly-cookies-with-url-rewrite/&#34;&gt;Ensuring httpOnly cookies with URL Rewrite&lt;/a&gt; &lt;em&gt;(This Post)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-secure-cookies-with-url-rewrite/&#34;&gt;Ensuring secure cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-samesite-cookies-with-url-rewrite/&#34;&gt;Ensuring samesite cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    
    <item>
      <title>Removing trailing slashes with URL Rewrite</title>
      <link>https://im5tu.io/article/2017/06/removing-trailing-slashes-with-url-rewrite/</link>
      <pubDate>Mon, 05 Jun 2017 15:00:59 +0100</pubDate>
      
      <guid>https://im5tu.io/article/2017/06/removing-trailing-slashes-with-url-rewrite/</guid>
      <description>&lt;p&gt;In the &lt;a href=&#34;https://im5tu.io/article/2017/06/canonical-host-urls-with-url-rewrite/&#34;&gt;previous post&lt;/a&gt;, I explained why canonical urls are important and how to enforce them . In this article, I will show you how to have a canonical host url.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;why-does-adding-or-removing-trailing-slashes-matter&#34;&gt;Why does adding or removing trailing slashes matter?&lt;/h2&gt;

&lt;p&gt;In essence, it matters for the same reasons as I described in &lt;a href=&#34;https://im5tu.io/article/2017/06/canonical-host-urls-with-url-rewrite/&#34;&gt;my previous post&lt;/a&gt;. That is, search engines will see &lt;code&gt;site.com/post1&lt;/code&gt; as different content to &lt;code&gt;site.com/post1/&lt;/code&gt; so we need to correct this in order to get a bit of SEO benefit. In this article, I will be redirecting any URL that comes with a slash at the end to one without.&lt;/p&gt;

&lt;h2 id=&#34;adding-or-removing-trailing-slashes-via-url-rewrite&#34;&gt;Adding or removing trailing slashes via URL Rewrite&lt;/h2&gt;

&lt;p&gt;As per the snippet in our previous posts, we are going to create an inbound rule (which lives under &lt;code&gt;system.web &amp;gt; rewrite &amp;gt; rules&lt;/code&gt; in our &lt;code&gt;web.config&lt;/code&gt;):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;rule name=&amp;quot;Remove trailing slash&amp;quot; stopProcessing=&amp;quot;true&amp;quot;&amp;gt;
    &amp;lt;match url=&amp;quot;(.*)/$&amp;quot; /&amp;gt;
    &amp;lt;conditions logicalGrouping=&amp;quot;MatchAll&amp;quot; trackAllCaptures=&amp;quot;false&amp;quot;&amp;gt;
        &amp;lt;add input=&amp;quot;{REQUEST_FILENAME}&amp;quot; matchType=&amp;quot;IsFile&amp;quot; negate=&amp;quot;true&amp;quot; /&amp;gt;
        &amp;lt;add input=&amp;quot;{REQUEST_FILENAME}&amp;quot; matchType=&amp;quot;IsDirectory&amp;quot; negate=&amp;quot;true&amp;quot; /&amp;gt;
    &amp;lt;/conditions&amp;gt;
    &amp;lt;action type=&amp;quot;Redirect&amp;quot; url=&amp;quot;{R:1}&amp;quot; redirectType=&amp;quot;Temporary&amp;quot; /&amp;gt;
&amp;lt;/rule&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the first line, we are defining the name of the rule which can be viewed inside of &lt;code&gt;inetmgr (IIS Manager)&lt;/code&gt; saying that we want to stop at this rule and return the response to the client. Next up, we give our matching criteria which we have wildcarded to match all requests that end with a &lt;code&gt;/&lt;/code&gt;. Then we have added a condition set which is definted to match all criteria inside. We use the server variable &lt;code&gt;{REQUEST_FILENAME}&lt;/code&gt; to determine whether or not the path requested is a physical file or directory on disk. The last attribute in each condition is a negation, which is equivilent of saying don&amp;rsquo;t match a physical directory or file (we don&amp;rsquo;t want to screw the routing for those!).&lt;/p&gt;

&lt;p&gt;Finally, we define the action that we wish to take if both the &lt;code&gt;match&lt;/code&gt; and all the conditions in the &lt;code&gt;conditions&lt;/code&gt; section have been satisfied. The action that we wish to take is to redirect the user to the page without the slash, so we use the request capture group &lt;code&gt;{R:1}&lt;/code&gt; (more on this in a future article).&lt;/p&gt;

&lt;p&gt;And that&amp;rsquo;s it, you should be redirecting people from say &lt;code&gt;site.com/post1/&lt;/code&gt; to &lt;code&gt;site.com/post1&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&#34;other-posts-in-this-series&#34;&gt;Other Posts In This Series&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/up-and-running-with-url-rewrite---going-from-http-to-https/&#34;&gt;Up and running with URL Rewrite - going from HTTP to HTTPS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/canonical-host-urls-with-url-rewrite/&#34;&gt;Canonical host urls with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/removing-trailing-slashes-with-url-rewrite/&#34;&gt;Removing trailing slashes with URL Rewrite&lt;/a&gt; &lt;em&gt;(This Post)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-httponly-cookies-with-url-rewrite/&#34;&gt;Ensuring httpOnly cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-secure-cookies-with-url-rewrite/&#34;&gt;Ensuring secure cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-samesite-cookies-with-url-rewrite/&#34;&gt;Ensuring samesite cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    
    <item>
      <title>Canonical host urls with URL Rewrite</title>
      <link>https://im5tu.io/article/2017/06/canonical-host-urls-with-url-rewrite/</link>
      <pubDate>Sun, 04 Jun 2017 15:00:55 +0100</pubDate>
      
      <guid>https://im5tu.io/article/2017/06/canonical-host-urls-with-url-rewrite/</guid>
      <description>

&lt;p&gt;In the &lt;a href=&#34;https://im5tu.io/article/2017/06/up-and-running-with-url-rewrite---going-from-http-to-https/&#34;&gt;previous post&lt;/a&gt;, I gave a brief intoduction to URL Rewriting and showed you how to get from HTTP to HTTPS. In this article, I will show you how to have a canonical host url.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2 id=&#34;what-is-a-canonical-host-url&#34;&gt;What is a canonical host url?&lt;/h2&gt;

&lt;p&gt;It can be incredibly easy to distribute different urls for your website. Lets say that we have &lt;code&gt;www.site.com/post1&lt;/code&gt; and &lt;code&gt;site.com/post1&lt;/code&gt;. If you&amp;rsquo;re a search engine, you think that these are different different pages with the same content. When you have the same content, you ranking decreases because the content is not original. As a human looking at the site, we think that the pages are the same content on the same site, so we don&amp;rsquo;t see the duplication.&lt;/p&gt;

&lt;p&gt;So a canonical url is basically saying to the search engine: hey, &lt;code&gt;www.site.com/post1&lt;/code&gt; and &lt;code&gt;site.com/post1&lt;/code&gt; are the same content and you should access me through this link (&lt;em&gt;which we define to be a single one of the above&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;We can set this through metadata on our webpages, but this doesn&amp;rsquo;t guarentee that people will distribute the correct link to your site. To fix this, we can rewrite the url to either append or remove the &lt;code&gt;www.&lt;/code&gt;. In this case, because I prefer shorter url&amp;rsquo;s, we will remove the www sub-domain prefix.&lt;/p&gt;

&lt;h2 id=&#34;making-a-canonical-host-url-via-url-rewrite&#34;&gt;Making a canonical host url via URL Rewrite&lt;/h2&gt;

&lt;p&gt;As per the snippet in our previous post, we are going to create an inbound rule (which lives under &lt;code&gt;system.web &amp;gt; rewrite &amp;gt; rules&lt;/code&gt; in our &lt;code&gt;web.config&lt;/code&gt;):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;rule name=&amp;quot;Canonical Hostname&amp;quot; stopProcessing=&amp;quot;true&amp;quot;&amp;gt;
    &amp;lt;match url=&amp;quot;(.*)&amp;quot; /&amp;gt;
    &amp;lt;conditions logicalGrouping=&amp;quot;MatchAll&amp;quot; trackAllCaptures=&amp;quot;false&amp;quot;&amp;gt;
        &amp;lt;add input=&amp;quot;{HTTP_HOST}&amp;quot; pattern=&amp;quot;^www\.([.a-zA-Z0-9]+)$&amp;quot;/&amp;gt;
    &amp;lt;/conditions&amp;gt;
    &amp;lt;action type=&amp;quot;Redirect&amp;quot; url=&amp;quot;https://{C:1}/{R:1}&amp;quot; redirectType=&amp;quot;Temporary&amp;quot; /&amp;gt;
&amp;lt;/rule&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the first line, we are defining the name of the rule which can be viewed inside of &lt;code&gt;inetmgr (IIS Manager)&lt;/code&gt; saying that we want to stop at this rule and return the response to the client. Next up, we give our matching criteria which we have wildcarded to match all requests. Then we have added a condition which takes a server variable (&lt;code&gt;{HTTP_HOST}&lt;/code&gt; which tells us the DNS name or IP address that has been used to reach this server eg: site.com or www.site.com), and we&amp;rsquo;ve matched it against any request starting with &lt;code&gt;www.&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Finally, we define the action that we wish to take if both the &lt;code&gt;match&lt;/code&gt; and &lt;code&gt;conditions&lt;/code&gt; sections have been satisfied. The action that we wish to take is to redirect the user to a non &lt;code&gt;www.&lt;/code&gt; version of the page. In order to do this, we use one of the capture groups (which comes from the conditions section regex) to redirect to (in this case it&amp;rsquo;s &lt;code&gt;{C:1}&lt;/code&gt;) and combine it with the original path and query.&lt;/p&gt;

&lt;p&gt;And that&amp;rsquo;s it, you should be redirecting people from say &lt;code&gt;www.site.com&lt;/code&gt; to &lt;code&gt;site.com&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&#34;other-posts-in-this-series&#34;&gt;Other Posts In This Series&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/up-and-running-with-url-rewrite---going-from-http-to-https/&#34;&gt;Up and running with URL Rewrite - going from HTTP to HTTPS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/canonical-host-urls-with-url-rewrite/&#34;&gt;Canonical host urls with URL Rewrite&lt;/a&gt; &lt;em&gt;(This Post)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/removing-trailing-slashes-with-url-rewrite/&#34;&gt;Removing trailing slashes with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-httponly-cookies-with-url-rewrite/&#34;&gt;Ensuring httpOnly cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-secure-cookies-with-url-rewrite/&#34;&gt;Ensuring secure cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-samesite-cookies-with-url-rewrite/&#34;&gt;Ensuring samesite cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Up and running with URL Rewrite - going from HTTP to HTTPS</title>
      <link>https://im5tu.io/article/2017/06/up-and-running-with-url-rewrite---going-from-http-to-https/</link>
      <pubDate>Sat, 03 Jun 2017 15:00:51 +0100</pubDate>
      
      <guid>https://im5tu.io/article/2017/06/up-and-running-with-url-rewrite---going-from-http-to-https/</guid>
      <description>&lt;p&gt;In this series, I am going to take you through a few &lt;code&gt;web.config&lt;/code&gt; snippets that have come in handy for me when using URL Rewrite on IIS. Firstly, I am going to introduce the URL Rewrite module then show a sample of going from HTTP to HTTPS.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;what-is-url-rewrite&#34;&gt;What is URL Rewrite?&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.iis.net/downloads/microsoft/url-rewrite&#34;&gt;URL Rewrite&lt;/a&gt;  is a module extensions for IIS which allows administrators to create powerful inbound and outbound rules that alter a HTTP request or response. Scenarios where you might consider using the URL Rewrite module include:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Rewrite URLs based on the values of server variables or HTTP headers&lt;/li&gt;
&lt;li&gt;Provide SEO benefits such as canonical host names&lt;/li&gt;
&lt;li&gt;Setup redirects from old posts to new&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;URL rewrite can be install from the &lt;a href=&#34;http://go.microsoft.com/fwlink/?LinkID=615137&#34;&gt;Web Platform Installer&lt;/a&gt; for IIS 7.5 or above.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;url-rewrite-and-web-config&#34;&gt;URL Rewrite and Web.Config&lt;/h2&gt;

&lt;p&gt;Inside of the &lt;code&gt;web.config&lt;/code&gt; you can define a &lt;code&gt;&amp;lt;rewrite&amp;gt;&lt;/code&gt; section beneath the &lt;code&gt;&amp;lt;system.web&amp;gt;&lt;/code&gt; section:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;system.web&amp;gt;
    &amp;lt;rewrite&amp;gt;
        &amp;lt;!-- Your rules here --&amp;gt;
    &amp;lt;/rewrite&amp;gt;
&amp;lt;/system.web&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Within the &lt;code&gt;&amp;lt;rewrite&amp;gt;&lt;/code&gt; section you can define either a &lt;code&gt;&amp;lt;rules&amp;gt;&lt;/code&gt; section or an &lt;code&gt;&amp;lt;outbound&amp;gt;&lt;/code&gt; section. The former is for inbound request rewriting and the latter is for response rewriting. I&amp;rsquo;ll expand on each section as we go through the series.&lt;/p&gt;

&lt;p&gt;*&lt;strong&gt;Note:&lt;/strong&gt; if you don&amp;rsquo;t have the URL Rewrite module installed, you&amp;rsquo;ll get a lovely yellow screen of death when you start your application.*&lt;/p&gt;

&lt;h2 id=&#34;redirecting-http-to-https&#34;&gt;Redirecting HTTP to HTTPS&lt;/h2&gt;

&lt;p&gt;The are some obvious benefits to serving pages over a secure connection (HTTPS), which include:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Encryption: The data exchanged between client and server cannot easily be read&lt;/li&gt;
&lt;li&gt;Authority: Proving that the server you are talking to is who you are expecting to talk to&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;However, there are a few lesser known benefits including:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;SEO: Search engines are preferring websites that are secure by default&lt;/li&gt;
&lt;li&gt;HTTP2: Major browsers do not support HTTP2 over insecure connections&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Assuming you would like all of the above benefit, here is the rule snippet that you will need:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;system.web&amp;gt;
  &amp;lt;rewrite&amp;gt;
      &amp;lt;rules&amp;gt;
          &amp;lt;rule name=&amp;quot;Redirect to http&amp;quot; patternSyntax=&amp;quot;Wildcard&amp;quot; stopProcessing=&amp;quot;true&amp;quot;&amp;gt;
            &amp;lt;match url=&amp;quot;*&amp;quot; negate=&amp;quot;false&amp;quot; /&amp;gt;
            &amp;lt;conditions logicalGrouping=&amp;quot;MatchAny&amp;quot; trackAllCaptures=&amp;quot;false&amp;quot;&amp;gt;
                  &amp;lt;add input=&amp;quot;{HTTPS}&amp;quot; pattern=&amp;quot;off&amp;quot; /&amp;gt;
              &amp;lt;/conditions&amp;gt;
            &amp;lt;action type=&amp;quot;Redirect&amp;quot; url=&amp;quot;https://{HTTP_HOST}/{R:1}&amp;quot; redirectType=&amp;quot;Temporary&amp;quot; /&amp;gt;
        &amp;lt;/rule&amp;gt;
      &amp;lt;/rules&amp;gt;
    &amp;lt;/rewrite&amp;gt;
&amp;lt;/system.web&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So what&amp;rsquo;s going on in the snippet above?&lt;/p&gt;

&lt;p&gt;In the first line, we are defining the name of the rule which can be viewed inside of &lt;code&gt;inetmgr (IIS Manager)&lt;/code&gt;; saying which pattern style we are going to use (either regex or wildcard) and saying that we want to stop at this rule and return the response to the client. Next up, we give our matching criteria which we have wildcarded to match all requests. Then we have added a condition which takes a server variable (&lt;code&gt;{HTTPS}&lt;/code&gt; which indicates whether or not this request has been delivered over a secure connection), and made sure we only track insecure requests.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;With conditions inside of a rule, you can match a single entry in the condition set or all the conditions within the set. Use either &lt;code&gt;MatchAny&lt;/code&gt; or &lt;code&gt;MatchAll&lt;/code&gt; depending on your needs.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Finally, we define the action that we wish to take if both the &lt;code&gt;match&lt;/code&gt; and &lt;code&gt;conditions&lt;/code&gt; sections have been satisfied. The action &lt;code&gt;type&lt;/code&gt; can be &lt;code&gt;Redirect&lt;/code&gt; or &lt;code&gt;Rewrite&lt;/code&gt; depending on your needs. We wish to redirect a user to a secure connection, so we define the type as &lt;code&gt;Redirect&lt;/code&gt; and the url equal to a secure connection to the host requested with the original path &amp;amp; query appended. The final attribute is the redirect type which can be one of the following:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Permenant: &lt;a href=&#34;https://httpstatuses.com/301&#34;&gt;A HTTP 301 Response&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Found: &lt;a href=&#34;https://httpstatuses.com/302&#34;&gt;A HTTP 302 Response&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;SeeOther: &lt;a href=&#34;https://httpstatuses.com/303&#34;&gt;A HTTP 303 Response&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Temporary: &lt;a href=&#34;https://httpstatuses.com/307&#34;&gt;A HTTP 307 Response&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;That&amp;rsquo;s it! Hopefully this article gives you everything that you need to get HTTP to HTTPS redirects working without&lt;/p&gt;

&lt;h2 id=&#34;other-posts-in-this-series&#34;&gt;Other Posts In This Series&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/up-and-running-with-url-rewrite---going-from-http-to-https/&#34;&gt;Up and running with URL Rewrite - going from HTTP to HTTPS&lt;/a&gt; &lt;em&gt;(This Post)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/canonical-host-urls-with-url-rewrite/&#34;&gt;Canonical host urls with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/removing-trailing-slashes-with-url-rewrite/&#34;&gt;Removing trailing slashes with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-httponly-cookies-with-url-rewrite/&#34;&gt;Ensuring httpOnly cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-secure-cookies-with-url-rewrite/&#34;&gt;Ensuring secure cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://im5tu.io/article/2017/06/ensuring-samesite-cookies-with-url-rewrite/&#34;&gt;Ensuring samesite cookies with URL Rewrite&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</description>
    </item>
    
    <item>
      <title>Domain Driven Design Notes</title>
      <link>https://im5tu.io/article/2017/05/domain-driven-design-notes/</link>
      <pubDate>Wed, 24 May 2017 16:25:48 +0100</pubDate>
      
      <guid>https://im5tu.io/article/2017/05/domain-driven-design-notes/</guid>
      <description>

&lt;p&gt;&lt;em&gt;These are my notes on domain driven design whilst watching the course by Dino Esposito on &lt;a href=&#34;https://app.pluralsight.com/library/courses/modern-software-architecture-domain-models-cqrs-event-sourcing/table-of-contents&#34;&gt;Pluralsight&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Domain Driven Design (or DDD), is the process of discovering both data and behavioural requirements for a given problem domain where traditional approaches usually focus purely on data collection aspects. The aim is to provide better tools to tackle the complexity at the heart of software. &lt;!-- more --&gt;&lt;/p&gt;

&lt;p&gt;Within DDD, there are two distinct parts: an analytical one and a strategical one. To use a DDD centric approach, the analytical aspects are required while the strategical aspects can take one of many forms depending on the requirements gained from analytical insight.&lt;/p&gt;

&lt;h2 id=&#34;analytical&#34;&gt;Analytical&lt;/h2&gt;

&lt;p&gt;The analytical aspect of DDD is useful for everyone and every project undertaken because it describes the domain in which you are working, using a common set of language. The common set of language used is called ubiquitous language within DDD jargon. These aspects of DDD are key in a couple of main areas:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;When there is a lot of domain logic that can be tricky to digest:

&lt;ul&gt;
&lt;li&gt;No synonyms for same/similar concepts;&lt;/li&gt;
&lt;li&gt;Ensures all terms are understood&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Or, the business logic is not completely defined:

&lt;ul&gt;
&lt;li&gt;Business is young (eg: startup);&lt;/li&gt;
&lt;li&gt;Logic is discovered on the way&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ubiquitous-language&#34;&gt;Ubiquitous Language&lt;/h3&gt;

&lt;p&gt;The aim of ubiquitous language is to avoid misunderstandings and assumptions by creating business centric terminology shared by all members of a project, both technical and non-technical. Once defined, the language should used universally in spoken and written communication, avoiding synonym creation which breeds ambiguity and misunderstanding.&lt;/p&gt;

&lt;p&gt;Ubiquitous language is itteratively composed throughout interviews and brainstorming sessions using the natural language of the business, not creating new expressions for pre-existing concepts. The language will continually evolve over time, so it is important that updates are communicated across the business to reflect the understanding of the domain. It should neither be purely from domain experts nor technical experts. However, the ubiquitous language may contain some technical language to ensure clarity and consistency.&lt;/p&gt;

&lt;p&gt;Acronyms are widely used across many business sectors that are hard to remember and understand. Where possible, acronyms should be avoided, being replaced by words that retain the same meaning of the acronym. This makes the language easier to use and understand for all parties involved. The language, although continually evolving, should not be continuly stretched as this will create a bloated, less regirous language than intended.&lt;/p&gt;

&lt;p&gt;Lastly, the language used should be agnostic to all technology and paradigms. Moreover, when naming elements of code, the names should be reflective of the language used ensuring that concepts above are adhered to (eg: no acronyms/no synonyms).&lt;/p&gt;

&lt;h3 id=&#34;bounded-contexts&#34;&gt;Bounded Contexts&lt;/h3&gt;

&lt;p&gt;Bounded contexts are areas of the domain in which an element has a unique, unambiguous, well-defined meaning. Outside the boundries of a given bounded context, the ubiquitous language changes. If the meaning behind the language is same, the context should be the same. Each bounded context may have it&amp;rsquo;s own unique architecture and implementation. Moreover, each bounded context should have a well defined external interface so that it can be consumed from other bounded contexts.&lt;/p&gt;

&lt;p&gt;This concept was introduced into DDD to help with the following problems:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Remove ambiguity and duplication from within ubiquitous language;&lt;/li&gt;
&lt;li&gt;Simplify design of software modules;&lt;/li&gt;
&lt;li&gt;Help to integrate legacy software tools and components.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Within a given business domain, you may often find that the same term is used but with different meanings. When this occurs, it is a signal that the business domain should be split into multiple bounded contexts. However, these new contexts are not completely isolated as they are often connected through the way they communicate and interact with one another. Typically, the number of bounded contexts often reflects the physical organisation/department structure of the business.&lt;/p&gt;

&lt;h3 id=&#34;context-maps&#34;&gt;Context Maps&lt;/h3&gt;

&lt;p&gt;The overall layout of bounded contexts within a business domain can be represented on a context map, as shown below (credit: &lt;a href=&#34;https://infoq.com&#34;&gt;InfoQ&lt;/a&gt;):&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://www.infoq.com/resource/articles/ddd-contextmapping/en/resources/ddd-contextmapping-figure11.jpg&#34; alt=&#34;Example DDD Context Map&#34; /&gt;&lt;/p&gt;

&lt;p&gt;On the image above, there are a few new terms to understand:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;U &amp;amp; D or Upstream/Downstream:

&lt;ul&gt;
&lt;li&gt;Upstream/Downstream shows the direction of the relationship between bounded contexts&lt;/li&gt;
&lt;li&gt;Upstream influences downstreams context and is available as a reference to the downstream context&lt;/li&gt;
&lt;li&gt;Downstream is simply a consumer of the upstream context but cannot influence it&amp;rsquo;s work directly (eg: change composition)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Conformist:

&lt;ul&gt;
&lt;li&gt;Indicates that the downstream context completely depends on the upstream context (eg: when the upstream context is a legacy system/external service)&lt;/li&gt;
&lt;li&gt;Typically no neogation of changes is possible&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Customer/Supplier:

&lt;ul&gt;
&lt;li&gt;Indicates that the downstream context is dependent on the upstream context&lt;/li&gt;
&lt;li&gt;Negotiation of changes between the customer/supplier is possible and the customer can usually expect the changes to be made in some way&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Partner:

&lt;ul&gt;
&lt;li&gt;Indicates a mutual dependency between two bounded contexts&lt;/li&gt;
&lt;li&gt;Changes are negotiated between both teams&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ACL or Anti-Corruption Layer:

&lt;ul&gt;
&lt;li&gt;Fixed contract at the boundry of the bounded context&lt;/li&gt;
&lt;li&gt;Allows for internal changes without affecting consumers; so is most helpful when dealing with external API&amp;rsquo;s&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;event-storming&#34;&gt;Event Storming&lt;/h3&gt;

&lt;p&gt;Event Storming, originally developed by Alberto Brandolini, is an emerging practise to explore the business domain and identify key events and commands. The practise involves getting technical and domain experts together in a room to build a timeline of events and commands, draw sketches and make notes which helps to result in the following:
    - Comprehensive vision of the business domain
    - Identification of bounded contexts and aggregates in each context
    - Types of users in the system (who runs commands and why)
    - Identification of where UX is critical&lt;/p&gt;

&lt;p&gt;Usually, a long whiteboard is used to note down the observable events on the time line, ideally with colour identification (eg: sticky notes). With coloured sticky notes, you would typically have a single colour for events and a different colour for commands (etc). This aids in the visual representation of the domain and the flows throughout.&lt;/p&gt;

&lt;p&gt;The number of people in the meeting, should ideally not break the two pizza rule. The meeting should be kept on track through the presence of a facilitator, whos job it is to prevent long running discussions and guides the modeling effort. The facilitator doesn&amp;rsquo;t necessarily have to be a domain expert but this might be useful to get the meeting started.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Two pizza rule&lt;/strong&gt;: Never have a meeting where two pizzas couldn&amp;rsquo;t feed the entire group&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;In a future post I will go through various architectural patterns and their usages.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Talks: Episerver Content Providers &amp; Lightening Talk</title>
      <link>https://im5tu.io/article/2017/04/talks-episerver-content-providers--lightening-talk/</link>
      <pubDate>Tue, 04 Apr 2017 10:38:38 +0100</pubDate>
      
      <guid>https://im5tu.io/article/2017/04/talks-episerver-content-providers--lightening-talk/</guid>
      <description>&lt;p&gt;On the 23rd of March, I had the opportunity to present at the Episerver meetup in Redweb&amp;rsquo;s London offices. I ended up giving two talks: Episerver Content Providers &amp;amp; a 5 minute lightening talk.
&lt;/p&gt;

&lt;p&gt;The Episerver Content Providers talk was around the use of custom content providers within Episerver, their benefits, implementation and the pitfalls and nuances of using them. You can find the slides over at &lt;a href=&#34;http://slides.com/im5tu/epi-content-providers#/&#34;&gt;slid.es&lt;/a&gt;. On the slides you can find the speaker notes that I used, so I won&amp;rsquo;t duplicate them here.&lt;/p&gt;

&lt;p&gt;For the lightening talk, I decided to cover three libraries that I think will play a big part in Episerver&amp;rsquo;s future. These are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/aspnet/dependencyinjection&#34;&gt;Dependency Injection&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/aspnet/logging&#34;&gt;Logging&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/aspnet/options&#34;&gt;Options&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These frameworks are well worth checking out and are used as part of my &lt;a href=&#34;https://github.com/im5tu/openmessage&#34;&gt;OpenMessage&lt;/a&gt; project.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>OpenMessage 2017 Roadmap</title>
      <link>https://im5tu.io/article/2017/02/openmessage-2017-roadmap/</link>
      <pubDate>Sat, 11 Feb 2017 12:15:27 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2017/02/openmessage-2017-roadmap/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://github.com/im5tu/openmessage&#34;&gt;OpenMessage&lt;/a&gt; originally started out as a replacement for an internal library that was used across teams. At the time, the team I was apart of needed the latest version of dotnet core for the library where as the other team were stuck on RC1. They were also developing features for that version of the framework and a few pre-existing details that we were unhappy with (eg: the request/response implementation). With that in mind, I created a minimal wrapper for what we needed. Looking forward, I plan to dedicate a bit more time to the project and improve it.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;support-for-web-hook-scenarios&#34;&gt;Support for web hook scenarios&lt;/h2&gt;

&lt;p&gt;This is probably one of the bigger ideas that I have had in mind for the last month or so purely for the power that it could bring to applications. One of the core parts of our infrastructure was taking a web request generated by an external system and translating this into a message to be placed on Azure Service Bus. I see two main parts to this functionality:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Support for incomming web hooks&lt;/li&gt;
&lt;li&gt;Support for sending web hooks&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;For each portion, the framework will need to consider whether or not to send/receive to/from unique endpoints or an endpoint per message. Initially, this will be decided at composition, but may be extended to dynamic re-configuration at a later stage (which will need to be considered throughout the framework). I intend to use some lightweight routing to do this, probably using the routing module from ASP.Net core, at least, initialy.&lt;/p&gt;

&lt;h2 id=&#34;support-for-additional-providers&#34;&gt;Support for additional providers&lt;/h2&gt;

&lt;p&gt;The more providers that the project has, the more flexibility you can have inside of your applications. The main providers that I have in mind are as follows:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Azure Event Hubs&lt;/li&gt;
&lt;li&gt;Service Fabric Reliable Queues&lt;/li&gt;
&lt;li&gt;Rabbit MQ&lt;/li&gt;
&lt;li&gt;In Memory&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There isn&amp;rsquo;t really too much to say about each of the above, except that the project will have support for each framework using the native providers. I did toy with the idea of building a complete AMQP library as part of this, but that seems a little overkill for the time being. I&amp;rsquo;ll see how the progression of libraries moving to dotnet core takes shape as another full library is quiet the undertaking.&lt;/p&gt;

&lt;h2 id=&#34;sample-creation-tutorial-series&#34;&gt;Sample creation/tutorial series&lt;/h2&gt;

&lt;p&gt;One of the big pieces that is missing at the moment are public samples of how to use the project in your application. This will help ease the onboarding process for new users/developers.&lt;/p&gt;

&lt;p&gt;Naturally, as part of all of this work, the dependencies will be kept up-to-date &amp;amp; bugs fixed. If there is something that you&amp;rsquo;d like to see, create an issue on &lt;a href=&#34;https://github.com/im5tu/openmessage&#34;&gt;github&lt;/a&gt; or &lt;a href=&#34;https://twitter.com/im5tu&#34;&gt;tweet me&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Happy Messaging!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>OpenMessage 1.1 Released</title>
      <link>https://im5tu.io/article/2017/02/openmessage-1.1-released/</link>
      <pubDate>Sun, 05 Feb 2017 15:31:54 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2017/02/openmessage-1.1-released/</guid>
      <description>&lt;p&gt;Just a quick update to say that the Azure provider for &lt;a href=&#34;https://github.com/Im5tu/OpenMessage&#34;&gt;OpenMessage&lt;/a&gt; has been released. This update fixes an issue with scheduling messages on topics.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;As part of this update, the entire solution has been converted to the new (old) csproj system as part of Visual Studio 2017. Over the next few days i&amp;rsquo;ll be posting the roadmap for the project and where I plan to take it next. Feedback and ideas are welcome.&lt;/p&gt;

&lt;p&gt;If you experience any problems, let me know.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Hugo Quick Tip: Inlining Css Files</title>
      <link>https://im5tu.io/article/2016/12/hugo-quick-tip-inlining-css-files/</link>
      <pubDate>Thu, 29 Dec 2016 20:25:58 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2016/12/hugo-quick-tip-inlining-css-files/</guid>
      <description>&lt;p&gt;Today I have been doing a little bit of work on my site and one of the things that I wanted to do is inline the css file. It&amp;rsquo;s quite a small file anyway, and once compressed with gzip should make a fairly minimal difference to the size of the page.
&lt;/p&gt;

&lt;h2 id=&#34;the-readfile-function&#34;&gt;The &lt;code&gt;readFile&lt;/code&gt; function&lt;/h2&gt;

&lt;p&gt;In Hugo, the &lt;code&gt;readFile&lt;/code&gt; function looks for a file relative to the current project working directory and returns it as a string. If we had a file located at: &lt;code&gt;&amp;lt;root&amp;gt;/static/css/site.css&lt;/code&gt;, then we could render the file out like so:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;style&amp;gt;{ {- renderFile &amp;quot;/static/css/site.css&amp;quot; -} }&amp;lt;/style&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;NB:&lt;/strong&gt; &lt;em&gt;Remember to close the squiggly brackets so that Hugo renders it correctly.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;There is a gotcha with this approach so far. Hugo will try and do its thing with the resultant string and what you will end up with is something along the lines of:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;ZgotmplZ&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;as opposed to your intented css contents. Luckily, there is a piped method that we can use to sort this out for us:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;style&amp;gt;{ {- renderFile &amp;quot;css/site.css&amp;quot; | safeCss -} }&amp;lt;/style&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;reading-a-hashed-file&#34;&gt;Reading a hashed file&lt;/h2&gt;

&lt;p&gt;As you may recall in &lt;a href=&#34;https://im5tu.io/article/2016/11/blog-building---part-4---frontend/&#34;&gt;my previous Hugo post&lt;/a&gt;, I setup my css files with cache busting capabilites by appending the hash onto the filename. In order to render this as part of the HTML, we need a few things:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Find the name of the hashed file&lt;/li&gt;
&lt;li&gt;Build the file path&lt;/li&gt;
&lt;li&gt;Call readFile&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In order to get the hashed file name, we can inspect the site&amp;rsquo;s data sources, looking for the file name (requires post mentioned above):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{{ $siteCssHash := (index .Site.Data.hash &amp;quot;site.css&amp;quot;)}}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Next, we need to build up the correct file path. Note, this is the file path prior to rendering:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{{ $siteCssPath := (printf &amp;quot;/static/css/%s&amp;quot; $siteCssHash) }}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Finally, we need to call &lt;code&gt;readFile&lt;/code&gt; and ensure that it is marked as a safe css string:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;style&amp;gt;{{- readFile $siteCssPath | safeCSS -}}&amp;lt;/style&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So putting the three together:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{{ $siteCssHash := (index .Site.Data.hash &amp;quot;site.css&amp;quot;)}}
{{ $siteCssPath := (printf &amp;quot;/static/css/%s&amp;quot; $siteCssHash) }}
&amp;lt;style&amp;gt;{{- readFile $siteCssPath | safeCSS -}}&amp;lt;/style&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And that&amp;rsquo;s it. When the page reloads/is rebuilt, your pages should now contain inlined css. You can view this &lt;a href=&#34;https://github.com/Im5tu/im5tu-hugo/blob/84ee887616acbe6cfef7e37b0dc9b4779aad31fd/layouts/partials/header/styles.html&#34;&gt;exact commit here&lt;/a&gt;.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Write Good Code, Not Code Hastily</title>
      <link>https://im5tu.io/article/2016/12/write-good-code-not-code-hastily/</link>
      <pubDate>Wed, 21 Dec 2016 23:25:27 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2016/12/write-good-code-not-code-hastily/</guid>
      <description>&lt;p&gt;This article is a rework of a draft that I&amp;rsquo;ve had sitting in my drafts folder for a long while now. Over the last six months or so, I&amp;rsquo;ve been reviewing a lot more code than I had previously thanks in part to a promotion and in part, code reviewing applicants coding entries. Some of the code has been good, with some code, really not so good!
&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;TL;DR:&lt;/strong&gt; &lt;em&gt;Do everything in your power to not take the shortcut when writing code. It will bite you in the future.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I am much the same as everybody else, there is room for improvement in my code - of that I&amp;rsquo;m sure. We are all limited by knowledge: not knowing what we don&amp;rsquo;t know. That&amp;rsquo;s one of the things I enjoy the most about what I do, learning how to do new things to make my life, and others lives, easier in the long run.&lt;/p&gt;

&lt;p&gt;One of the areas that I think 95% of developers can be better at doing is writing clean code. We&amp;rsquo;ve all heard of &lt;a href=&#34;https://cleancoders.com/&#34;&gt;Uncle Bob&lt;/a&gt;, so I won&amp;rsquo;t re-itterate him here. I&amp;rsquo;ve found that senior developers asking for Â£45,000 cannot recite the SOLID principals correctly (if at all), let alone use them in practise. I use the SOLID principals as one example, but in reality we are talking about clean and reusable code. Code anyone of any level can pickup and understand.&lt;/p&gt;

&lt;h2 id=&#34;on-haste&#34;&gt;On Haste&lt;/h2&gt;

&lt;p&gt;There comes a time in every project where you&amp;rsquo;re up against the clock for one reason or another. Deadline&amp;rsquo;s are coming up quickly and you still haven&amp;rsquo;t finished that module. What do you do? Do you write those unit tests later? Do you take that &amp;ldquo;quick and easy&amp;rdquo; shortcut.&lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s very easy to take the shortcut and get the work out on time. When you do this, you are deferring that effort until later. Except:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Later equals never&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;So what happens when you keep deffering that effort until never? You and your team start to use the phrases like: &amp;ldquo;this needs a complete rewrite&amp;rdquo; or &amp;ldquo;we can&amp;rsquo;t do feature x because it wasn&amp;rsquo;t written in an extensible way&amp;rdquo;. These phrases should be massive red flags. They are a sign that too many shortcuts have been taken in the past which have now come to fruition.&lt;/p&gt;

&lt;p&gt;Back to the example, what should you do? There are a number of things that you can do, including:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ask for more time to do it properly,&lt;/li&gt;
&lt;li&gt;Attempt to descope some of the work,&lt;/li&gt;
&lt;li&gt;Stay late and put extra effort it&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Typically, the first two options are likely your best approach before considering a shortcut or working late. I used often work later as a last resort, though it is something that I am not fond of in any shape or form. This typically means bad quoting/estimating/requirements gathering which is a little outside of scope for this article, so I&amp;rsquo;ll cover this topic in a future post.&lt;/p&gt;

&lt;p&gt;Clean coding can help in preventing us from reaching the situation described above. I gave some advice today, on this very subject, to a junior developer which I don&amp;rsquo;t think is repeated enough, in any form. I&amp;rsquo;ve given it before and i&amp;rsquo;ll give it countless times more:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Take the time and learn how to do it correctly. Practise doing it correctly until it&amp;rsquo;s second nature, even on current projects. You will become faster at it with time and be a better developer for it.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Studying by itself is seldom enough. Learning is always best in context. The first few times you try something new, you will inevitably make mistakes. It&amp;rsquo;s natural to make mistakes when learning, we are human afterall. Think of learning like its an agile piece of work. Iterrate and improve (with the help of code reviews).&lt;/p&gt;

&lt;p&gt;Learning the core patterns &amp;amp; principals (eg: SOLID) may slow you down in the early stages of learning as you refer to learning material. However, don&amp;rsquo;t be put off by this. As your knowledege increases, you will be spending less time fighting your way through unreadable code whilst writing code that can be read by all skill levels. Code that is not readable slows everyone down. Yourself included, though you may not realise it at first.&lt;/p&gt;

&lt;h2 id=&#34;on-code-reviews&#34;&gt;On Code Reviews&lt;/h2&gt;

&lt;p&gt;One of the quickest ways to improve the code you&amp;rsquo;re writing is to have it reviewed. Reviews need to be a conscious effort by everyone in a team. How you do the review is up to you. A review can be two people sitting at a desk, or it can be an isolated review. Pick which strategy is best for you. It&amp;rsquo;s just important that it happens.&lt;/p&gt;

&lt;p&gt;Can a junior review a seniors code? Certainly, in my opinion. Juniors should be asking questions about the code and how it works. This forces a greater understanding in what has been written (on both sides) and the core  principals behind the code.&lt;/p&gt;

&lt;p&gt;One of the most common blockers to adopting code reviews is that they take too much time. If you are attempting to review a 3000 file changeset, then of course it will take time. But we must also be asking the question: why has it grown to a 3000 file changeset in the first place? The chances of missing an obvious mistake in a changeset grows exponentially with the size of the changeset. Reviewers get fatigued with large changesets. Where possible, try and keep the changeset small and have it reviewed more frequently by different people. The more eyes on the code, the better, generally.&lt;/p&gt;

&lt;p&gt;Code reviews exist for two primary reasons: to help people learn and catch the obvious mistakes. They should also be &lt;a href=&#34;https://slack.engineering/on-empathy-pull-requests-979e4257d158&#34;&gt;empathetic in nature&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;final-thoughts&#34;&gt;Final Thoughts&lt;/h2&gt;

&lt;p&gt;The scrutineers amongst you will have noticed that the sub-text to this article is all about preventing technical debt. Technical debt is a monster that accrues interest over time. One of the key ways to prevent that debt, is by writing clean code. We should be writing code as clean as we can. The more you write clean code, the quicker you will be at writing it.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Your code is your legacy&lt;/em&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Blog Building - Part 4 - Frontend</title>
      <link>https://im5tu.io/article/2016/11/blog-building---part-4---frontend/</link>
      <pubDate>Sat, 19 Nov 2016 08:01:38 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2016/11/blog-building---part-4---frontend/</guid>
      <description>&lt;p&gt;So far we have built a very basic site and got a basic understanding of how to configure and override the theme. Next up we are going to configure our frontend workflow using yarn and gulp.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;yarn&#34;&gt;Yarn&lt;/h2&gt;

&lt;p&gt;Yarn is a frontend package manager. It replaces the traditional workflow of npm whilst remaining compatible with the npm registry. This means that we can get all of the speed and security improvements whilst having all the packages that are currently available on the npm registry.&lt;/p&gt;

&lt;h3 id=&#34;installing-node-js&#34;&gt;Installing node.js&lt;/h3&gt;

&lt;p&gt;Unfortunately, it still runs on node, so we need to get that setup first. Head to [the node website]() and install the correct version for your environment. You can verify node is setup correctly post-installation by running the following command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;C:\&amp;gt;node --version
v7.1.0
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;installing-yarn&#34;&gt;Installing yarn&lt;/h3&gt;

&lt;p&gt;Once node is setup, we can install yarn:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;C:\&amp;gt;npm install yarn -g
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will install yarn so that it is available for all projects, not just our new blog. Once the installation is complete, we can verify yarn is installed by running the following command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;C:\&amp;gt;yarn --version
0.17.6
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;yarn-ing-our-project&#34;&gt;Yarn&amp;rsquo;ing our project&lt;/h2&gt;

&lt;p&gt;Before we begin installing packages inside of our project, I am going to add a &lt;code&gt;.gitignore&lt;/code&gt; file as we will generate a lot of files that we don&amp;rsquo;t want inside of our git respository. Here is what I added to start off with:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;node_modules/
data/**/hash.*
static/css/*.css
static/js/*.js
public/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can setup our project to use yarn:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;E:\im5tu-hugo&amp;gt;yarn init
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will ask you a series of questions such as:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;E:\im5tu-hugo&amp;gt;yarn init
yarn init v0.17.6
question name (im5tu-hugo): im5tu
question version (1.0.0): 0.0.1
question description: Stuart Blackler&#39;s Tech Blog
question entry point (index.js):
question git repository (https://github.com/Im5tu/im5tu-hugo.git):
question author (Stuart Blackler (@im5tu) &amp;lt;im5tu@users.noreply.github.com&amp;gt;):
question license (MIT):
success Saved package.json
Done in 42.93s.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once this is completed, we will have a &lt;code&gt;package.json&lt;/code&gt; file in our root and we can start adding the dependencies that we need. If you don&amp;rsquo;t specify an answer, the default will be taken for you (the default is shown in brackets).&lt;/p&gt;

&lt;h2 id=&#34;gulp&#34;&gt;gulp&lt;/h2&gt;

&lt;p&gt;At this point, I assume that you are fairly familiar with &lt;code&gt;gulp&lt;/code&gt; or at least know what it is. We are going to setup gulp and our initial set of dependencies to do things like minification of files etc. We will add these files as development dependencies:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;yarn add gulp -D
yarn add gulp-sass -D
yarn add gulp-autoprefixer -D
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we need to tell gulp what to do by adding a &lt;code&gt;gulpfile.js&lt;/code&gt;. Create this in the website root:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;E:\im5tu-hugo&amp;gt;echo &amp;quot;&amp;quot; &amp;gt; gulpfile.js
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As you may remember from my previous post, anything that gets placed inside of static folder will get copied across to the main website. As I have chosen to use a css preprocessor (scss), we only want the output from the preprocessor to be in the static folder. Inside of the &lt;code&gt;.gitignore&lt;/code&gt; file, I have already put the main css/js files as these should be generated and not a part of main source code.&lt;/p&gt;

&lt;p&gt;Now we can configure &lt;code&gt;gulp&lt;/code&gt; to watch our source directory, process the files and copy the output into the static folder. At the very top of the file we need to require our dependencies, followed by a few configuration variables:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;var gulp         = require(&amp;quot;gulp&amp;quot;),
    sass         = require(&amp;quot;gulp-sass&amp;quot;),
    autoprefixer = require(&amp;quot;gulp-autoprefixer&amp;quot;),
    srcRootDir   = &amp;quot;src/&amp;quot;,
    destRootDir  = &amp;quot;static/&amp;quot;,
    srcCssDir    = srcRootDir + &amp;quot;css/&amp;quot;,
    srcJsDir     = srcRootDir + &amp;quot;js/&amp;quot;,
    srcCss       = srcCssDir + &amp;quot;**/*.scss&amp;quot;,
    srcJs        = srcJsDir + &amp;quot;**/*.js&amp;quot;,
    destCssDir   = destRootDir + &amp;quot;css&amp;quot;,
    destJsDir    = destRootDir + &amp;quot;js&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I have choosen to have a folder structure like the following:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;/root
    /static
        /css
        /js
    /src
        /css
        /js
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Next inside of our gulp file, we can configure two tasks. One to process any javascript files that we have and another for any scss files that we have:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;gulp.task(&amp;quot;js&amp;quot;, function() {
    gulp
        .src(srcJs)
        .pipe(gulp.dest(destJsDir))
});

gulp.task(&amp;quot;css&amp;quot;, function() {
    gulp
        .src(srcCss)
        .pipe(sass({
            outputStyle: &amp;quot;compressed&amp;quot;
        }))
        .pipe(autoprefixer({
            browsers: [&amp;quot;last 20 versions&amp;quot;]
        }))
        .pipe(gulp.dest(destCssDir))
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Lastly, we need to setup a watch task so that as files are changed they are copied to the static folder. When we combine this with hugo&amp;rsquo;s watch ability we have a dynamically changing site that reloads with the changes as we hit save. We also want to setup a default task, so that we can just run &lt;code&gt;gulp&lt;/code&gt; from inside of the root directory on the command line. The watch/default tasks look like:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;gulp.task(&amp;quot;watch&amp;quot;, [&amp;quot;css&amp;quot;, &amp;quot;js&amp;quot;], function() {
    gulp.watch([srcCss, srcJs], [&amp;quot;css&amp;quot;, &amp;quot;js&amp;quot;]);
});

gulp.task(&amp;quot;default&amp;quot;, [&amp;quot;watch&amp;quot;]);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In terms of our gulpfile we are all setup and ready to go. At the time of writing there are problems running gulp directly from the command line. In order to work around this, I needed to add the following to the package.json file in our root directory:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&amp;quot;scripts&amp;quot;: {
    &amp;quot;gulp&amp;quot;: &amp;quot;gulp&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then I can run gulp as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-cmd&#34;&gt;yarn gulp
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;setting-up-our-site-for-css-js&#34;&gt;Setting up our site for css/js&lt;/h2&gt;

&lt;p&gt;Now that we have our frontend pipeline setup and both the watch commands running, we can begin to change our site to include the files that we want. If you are using the bones theme, you need to create the following two files:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;/root
    /layouts
        /partials
            /body
                scripts.html
            /header
                styles.html
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Inside of the scripts file add:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;script src=&amp;quot;/js/site.js&amp;quot; async&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Inside of the styles file add:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;/css/site.css&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now you should be able to add the file &lt;code&gt;/root/src/css/site.scss&lt;/code&gt; with the following content:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;body { background: #ababab }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;All being well you should have both files renderd as part of your output.&lt;/p&gt;

&lt;h2 id=&#34;cache-busting&#34;&gt;Cache busting&lt;/h2&gt;

&lt;h3 id=&#34;creating-the-hash&#34;&gt;Creating the hash&lt;/h3&gt;

&lt;p&gt;For our cache busting mechanism, we are going to append the hash of the file to the file. As a new file will be created everytime that our file changes, we will need to clear out the destination css folder. To start, we need to add two more packages, using yarn:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;yarn add gulp-hash -D
yarn add del -D
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then add them to our gulpfile:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;var gulp         = require(&amp;quot;gulp&amp;quot;),
    sass         = require(&amp;quot;gulp-sass&amp;quot;),
    autoprefixer = require(&amp;quot;gulp-autoprefixer&amp;quot;),
    hash         = require(&amp;quot;gulp-hash&amp;quot;),
    del          = require(&amp;quot;del&amp;quot;),
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now lets create a task to clean out some directories that we are using:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;gulp.task(&amp;quot;clean&amp;quot;, function() {
    del([destCssDir, destJsDir, &amp;quot;data&amp;quot;]);
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can easily clean the directories that we need to at will. This could come in handy at a later date. Next we can change our task definitions to clean up their respective directories:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;gulp.task(&amp;quot;js&amp;quot;, function() {
    del.sync([destJsDir]);
...
gulp.task(&amp;quot;css&amp;quot;, function() {
    del.sync([destCssDir]);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Finally, we can add the hash of the file prior to writing it to its destination in each task:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;...
.pipe(hash())
.pipe(gulp.dest(...)); // change ... to the relevant destination eg: destCssDir
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;using-the-hashed-file&#34;&gt;Using the hashed file&lt;/h3&gt;

&lt;p&gt;In hugo, the &lt;code&gt;/root/data&lt;/code&gt; directory is used to store any data that we might need. Anything placed in here is accessible through the variable &lt;code&gt;.Site.Data&lt;/code&gt;. So using some more gulp magic, we can store the hahes of the files in here and update our template accordingly.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;gulp-hash&lt;/code&gt; has a built in manifest method that will generate a json file containing the hash for us. We can change our gulp tasks to leverage this functionality and place it inside of the &lt;code&gt;/root/data&lt;/code&gt; directory:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;// js gulp task
...
.pipe(gulp.dest(destJsDir))
.pipe(hash.manifest(&amp;quot;hash.json&amp;quot;))
.pipe(gulp.dest(&amp;quot;data/&amp;quot;));

// css gulp task
...
.pipe(gulp.dest(destCssDir))
.pipe(hash.manifest(&amp;quot;hash.json&amp;quot;))
.pipe(gulp.dest(&amp;quot;data/&amp;quot;));
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Restart our gulp task and now you should see the hash files being generated. If we open up the hash files, you should see something along the lines of:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;{&amp;quot;site.css&amp;quot;:&amp;quot;site-da39a3ee.css&amp;quot;,&amp;quot;site.js&amp;quot;:&amp;quot;site-da39a3ee.js&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;All that&amp;rsquo;s left to do is to use these hashes inside of our layouts. Luckily, GO has a built in function called &lt;code&gt;index&lt;/code&gt; which accepts a map and an index and returns the value of the map with the given index. So in our templates, we simply need to ask for the right files. Let&amp;rsquo;s first change our stylesheet in &lt;code&gt;/layouts/partials/styles.html&lt;/code&gt; to:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;/css/{{ index .Site.Data.hash &amp;quot;site.css&amp;quot; }}&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Finally, let&amp;rsquo;s change our script template to do the same (&lt;code&gt;/layouts/partials/body/scripts&lt;/code&gt;):&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;script src=&amp;quot;/js/{{ index .Site.Data.hash &amp;quot;site.js&amp;quot;}}&amp;quot; async&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we have a fully functional pipeline for frontend work. To start up the pipeline, you need to run two commands from different command line windows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;yarn gulp
hugo server -D
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then you can make changes to your files at will. Happy FED&amp;rsquo;ing.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Blog Building - Part 3 - Theming</title>
      <link>https://im5tu.io/article/2016/11/blog-building---part-3---theming/</link>
      <pubDate>Fri, 18 Nov 2016 19:01:38 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2016/11/blog-building---part-3---theming/</guid>
      <description>&lt;p&gt;In this article, I will show you how the theme has been constructed and show you how the overrides work. So far we have created a site, setup most of our workflow and posted our first article.
&lt;/p&gt;

&lt;p&gt;When we installed the theme in the previous post, a series of conventions took over and began the process of rending our pages for us. Because hugo is convention based, we can override the defaults by placing files in the correct place, but first we need to understand the layout. Below you can see the parts of the website that we care about the most:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;/root
    /archetypes
    /content
    /layouts
    /static
    /themes
        /themeA
            /archetypes
            /layouts
                /_default
                /indexes
                /partials
                /taxonomy
            index.html
        /themeB
            &amp;lt;as above&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;defaults&#34;&gt;Defaults&lt;/h2&gt;

&lt;p&gt;When hugo begins to render a site, the configuration is checked to see if there is a theme configured. If a theme is configured, it looks for that theme under the &lt;code&gt;themes&lt;/code&gt; directory by checking for a &lt;code&gt;theme.toml&lt;/code&gt; file under each sub-directory. If one of the &lt;code&gt;theme.toml&lt;/code&gt; files contains the correct theme name, that theme is loaded and the used as the default for the rest of the rending.&lt;/p&gt;

&lt;p&gt;From the directory listing above, you will notice that there are two &lt;code&gt;layouts&lt;/code&gt; folders. One under the site root and one under themeA. As far as I am aware, the layout of each &lt;code&gt;layouts&lt;/code&gt; folder is identical. This means that if your theme defines something under &lt;code&gt;/root/themes/themeA/layouts/_default/list.html&lt;/code&gt; we can override it by placing a file in &lt;code&gt;/root/layouts/_default/list.html&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Now that we know this, we can customise the theme how we see fit.&lt;/p&gt;

&lt;h2 id=&#34;rendering&#34;&gt;Rendering&lt;/h2&gt;

&lt;p&gt;Before continuing, I strongly recommend that you read the &lt;a href=&#34;http://gohugo.io/templates/go-templates/&#34;&gt;Go Template Primer&lt;/a&gt; created by the hugo team. Don&amp;rsquo;t worry, i&amp;rsquo;ll wait.&lt;/p&gt;

&lt;h3 id=&#34;baseof&#34;&gt;baseOf&lt;/h3&gt;

&lt;p&gt;A theme creator may decide, like I have for bones, to create a &lt;code&gt;baseOf&lt;/code&gt; file under the &lt;code&gt;/root/themes/&amp;lt;theme name&amp;gt;/_default/&lt;/code&gt; folder. This special file allows you to create a master layout, keeping your theme nice and clean. Inside of file, you can define blocks which another page can also define and implement. What happens here is that the &lt;code&gt;baseOf&lt;/code&gt; file says &amp;ldquo;You can configure this section called ABC&amp;rdquo;. Then inside of another file, eg: article/full.html, we can say &amp;ldquo;I want to configure section called ABC and here is what it should contain&amp;rdquo;. In hugo speak, this is called &lt;a href=&#34;http://gohugo.io/templates/blocks/&#34;&gt;Block Templates&lt;/a&gt; and is how the whole of the bones theme is configured.&lt;/p&gt;

&lt;p&gt;You can see an example of this &lt;a href=&#34;https://github.com/Im5tu/hugo-bones/blob/master/layouts/_default/baseof.html&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;render&#34;&gt;.Render&lt;/h3&gt;

&lt;p&gt;The &lt;a href=&#34;http://gohugo.io/templates/functions/#render&#34;&gt;.Render&lt;/a&gt; function is a special kind of function that you can call when rendering a list. It&amp;rsquo;s like rendering a partial view but for the current item in an enumeration.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;{{ range .Data.Pages }}
    {{ .Render &amp;quot;summary&amp;quot;}}
{{ end }}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The above sample will inspect the page data and enumerate all the available pages associated with the current page before calling render on each item. C#/Java would look something like:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c#&#34;&gt;foreach(var page in this.Data.Pages)
    Render(&amp;quot;summary&amp;quot;, currentItem);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see an example of this &lt;a href=&#34;https://github.com/Im5tu/hugo-bones/blob/master/layouts/article/list.html#L4&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;partial&#34;&gt;partial&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://gohugo.io/templates/partials/&#34;&gt;Partial templates&lt;/a&gt; are often used to separate out sections of a site into reusable components. The main difference between &lt;code&gt;partial&lt;/code&gt; and &lt;code&gt;.Render&lt;/code&gt; is that partial can be used to render whole sections of a site with a specific context where is &lt;code&gt;.Render&lt;/code&gt; is limited to the current item in an enumeration.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;&amp;lt;body&amp;gt;
{{ block &amp;quot;content&amp;quot; . -}} {{- end }}
{{- partial &amp;quot;header/scripts&amp;quot; . -}}
&amp;lt;/body&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The above &lt;a href=&#34;https://github.com/Im5tu/hugo-bones/blob/master/layouts/_default/baseof.html&#34;&gt;example from the baseOf file from bones&lt;/a&gt; does the following:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Says to the theming engine that it wants to declare an overridable section content, passing in the current page context&lt;/li&gt;
&lt;li&gt;Render the partial called &lt;code&gt;scripts&lt;/code&gt;, located under the &lt;code&gt;header&lt;/code&gt; folder, inside of the &lt;code&gt;partials&lt;/code&gt; folder, supplying the current page context&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All partials are located under &lt;code&gt;&amp;lt;root/theme&amp;gt;/layouts/partials/&amp;lt;path&amp;gt;&lt;/code&gt;. Where &lt;code&gt;&amp;lt;path&amp;gt;&lt;/code&gt; is the folder structure to the file.&lt;/p&gt;

&lt;p&gt;You can see an example of this &lt;a href=&#34;https://github.com/Im5tu/hugo-bones/blob/master/layouts/_default/baseof.html&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;archetypes&#34;&gt;Archetypes&lt;/h2&gt;

&lt;p&gt;Archetypes are really just a fancy way of saying content types. A theme can define them for you, or you can define your own like I have for the bones theme.&lt;/p&gt;

&lt;p&gt;You can see an example of that &lt;a href=&#34;https://github.com/Im5tu/hugo-bones/blob/master/archetypes/article.md&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;the-static&#34;&gt;The Static&lt;/h2&gt;

&lt;p&gt;Anything under the static folder, will get copied across to the main site when it gets rendered. This behaved slightly differently than I expected when I first tried this out. I had a file located under &lt;code&gt;/root/static/img/img1.jpg&lt;/code&gt;. When I attempted to render an image tag on the page with the src set to &lt;code&gt;/static/img/img1.jpg&lt;/code&gt; it didn&amp;rsquo;t work. When I rendered the files to disk by calling &lt;code&gt;hugo&lt;/code&gt; and checking the public folder, I could see that it rendered the image under &lt;code&gt;/img/img1.jpg&lt;/code&gt;. Slightly different that what I was expecting, but it still worked nevertheless.&lt;/p&gt;

&lt;p&gt;Hopefully you will now have a basic understanding of how a theme is constructed so that you can roll your own and override portions of the theme you have selecting. Next up, I will setup my frontend pipeline of choice so that I can start applying styling to my site.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Blog Building - Part 2 - My First Post</title>
      <link>https://im5tu.io/article/2016/11/blog-building---part-2---my-first-post/</link>
      <pubDate>Thu, 17 Nov 2016 23:01:38 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2016/11/blog-building---part-2---my-first-post/</guid>
      <description>&lt;p&gt;In &lt;a href=&#34;https://im5tu.io/article/2016/11/blog-building---part-1---hello-hugo/&#34;&gt;the last article&lt;/a&gt;, we setup our workflow and all the pieces that you will need to create a new site. Now we need to install a theme and begin publishing. Prior to writing this series, I began evaluating the extensibility of hugo themes and started work on something I call bones - a no thrills template with no styling, just structure. As I improve the template it will become more useful, maybe. It will remain the template behind mysite as I continue to improve it.
&lt;/p&gt;

&lt;h2 id=&#34;installing-a-theme&#34;&gt;Installing a theme&lt;/h2&gt;

&lt;p&gt;To install a theme, you need to know the repositories git url. You can see additional themes at &lt;a href=&#34;http://themes.gohugo.io/&#34;&gt;http://themes.gohugo.io/&lt;/a&gt;. I will be using my &lt;a href=&#34;https://github.com/Im5tu/hugo-bones.git&#34;&gt;bones theme&lt;/a&gt; as the base.&lt;/p&gt;

&lt;p&gt;Once you have the themes git url:
    - Open the command line to repository that has our generation files in it
    - Change directories to the themes folder
    - Clone the git repo to this location, eg: &lt;code&gt;git clone https://github.com/Im5tu/hugo-bones.git&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Once the repository is cloned, we need to tell hugo how to use our new theme. To do this we need to open the &lt;code&gt;config.toml&lt;/code&gt; file inside of the root directory and create an entry called theme. When this is done, your config file should look something along the lines of the following:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c#&#34;&gt;baseurl = &amp;quot;http://example.org/&amp;quot;
title = &amp;quot;My New Hugo Site&amp;quot;
languageCode = &amp;quot;en-us&amp;quot;
theme = &amp;quot;hugo-bones&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Whilst I am here, I am going to change the other properties accordingly:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c#&#34;&gt;baseurl = &amp;quot;https://im5tu.io/&amp;quot;
title = &amp;quot;Stuart Blackler&#39;s Tech Blog&amp;quot;
languageCode = &amp;quot;en-us&amp;quot;
theme = &amp;quot;hugo-bones&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Don&amp;rsquo;t forget to save the file. It&amp;rsquo;s also probably a good idea to commit your progress as you go.&lt;/p&gt;

&lt;h2 id=&#34;creating-our-first-post&#34;&gt;Creating our first post&lt;/h2&gt;

&lt;p&gt;Now that we have our theme all setup, we should probably create a hello world post. Assuming that you are using the bones theme like me, we can go back the root of our repository and run this command to generate a new post: &lt;code&gt;hugo new article\hello-world.md&lt;/code&gt;. This creates a file under the &lt;code&gt;content\article&lt;/code&gt; directory.&lt;/p&gt;

&lt;p&gt;We can preview this site by running the command: &lt;code&gt;hugo server -D&lt;/code&gt; and navigating to &lt;code&gt;http://localhost:1313/&lt;/code&gt;. All being well you should see the following:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://im5tu.io/img/blog-building-part-2/first-post.JPG&#34; alt=&#34;First Post Image&#34; /&gt;&lt;/p&gt;

&lt;p&gt;One of the great things about hugo is that it has live reload capabilities built in. This means that we can navigate to the page that we want to edit in the browser and everytime we make a change to the file, it will be synced to the screen. Try it! This magic happens because we called &lt;code&gt;hugo server&lt;/code&gt; which, in a way, breaks down to mean:
    - &lt;code&gt;hugo&lt;/code&gt;: build my site please
    - &lt;code&gt;server&lt;/code&gt;: load a simple http server with my content&lt;/p&gt;

&lt;p&gt;Additionally, I added the flag &lt;code&gt;-D&lt;/code&gt; which means that I want to build draft posts. In the template that I created, I wanted to create everything as a draft so that I could work on it in isolation and be safe in the knowledge that I wouldn&amp;rsquo;t accidently post something that wasn&amp;rsquo;t ready.&lt;/p&gt;

&lt;h2 id=&#34;additional-configuration&#34;&gt;Additional configuration&lt;/h2&gt;

&lt;p&gt;Before I finish up this post and write more, I want to change a few of the configuration options. Personally, I like working with json rather than yaml/toml inside of the markdown files, it feels more natural to me. Other changes that I wish to make include: changing permalink styles, output verbosity and enabling the robots.txt file.&lt;/p&gt;

&lt;p&gt;In order to make these changes, we need to once more open the &lt;code&gt;config.toml&lt;/code&gt; file and add the properties as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c#&#34;&gt;baseurl = &amp;quot;https://im5tu.io/&amp;quot;
title = &amp;quot;Stuart Blackler&#39;s Tech Blog&amp;quot;
languageCode = &amp;quot;en-us&amp;quot;
theme = &amp;quot;hugo-bones&amp;quot;
metaDataFormat = &amp;quot;json&amp;quot;
enableRobotsTXT = true
[permalinks]
	article = &amp;quot;article/:year/:month/:title/&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;next-steps&#34;&gt;Next steps&lt;/h2&gt;

&lt;p&gt;One of the next things that I will be doing is working with the template to ensure that everything is setup in terms of category/tag pages, rss feeds etc. This, although unstyled, will be enough to begin pushing to the live site.&lt;/p&gt;

&lt;p&gt;After that is complete, I will be setting up gulp to build, clean and minify my javascript and css files. From there I can start working on the visual styling of the site. I will blog the entire process, but this may take some time as I figure out exactly what I want.&lt;/p&gt;

&lt;p&gt;Finally, it&amp;rsquo;s setting up Github and Cloudflare so that everyone can enjoy an SSL enabled site around the world at blazing speeds.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Blog Building - Part 1 - Hello Hugo</title>
      <link>https://im5tu.io/article/2016/11/blog-building---part-1---hello-hugo/</link>
      <pubDate>Thu, 17 Nov 2016 20:23:00 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2016/11/blog-building---part-1---hello-hugo/</guid>
      <description>&lt;p&gt;As promised in this first mini-series, I am going to guide you through the steps that I have taken to get my blog up and running on Github pages and Cloudflare with SSL. As these the steps that I have taken to get this blog up and running, your milage may vary with this as different versions get released. That said, you should be fine.
&lt;/p&gt;

&lt;p&gt;&lt;em&gt;NB: I had already pushed a hello world up into my hosted repository with an index file containing hello world before I decided to write this guide.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;prerequisite-installing-git&#34;&gt;Prerequisite: Installing Git&lt;/h2&gt;

&lt;p&gt;The likelyhood is that you&amp;rsquo;ve already installed git, but if you haven&amp;rsquo;t download and install the latest version of git from &lt;a href=&#34;https://git-scm.com/&#34;&gt;the git website&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;installing-hugo&#34;&gt;Installing Hugo&lt;/h2&gt;

&lt;p&gt;Now that we have git installed, we are ready and raring to go. I&amp;rsquo;m going to make the assumption that you are on Windows with the instructions. We are going to install go, then use go to install hugo from source, installing all the updates as we go.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Navigate in your favourite browser to: &lt;a href=&#34;https://golang.org/dl/&#34;&gt;https://golang.org/dl/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Download the installer of choice and follow the instructions in the installer, making a note of installation directory (eg: &lt;code&gt;E:\GoLang\&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Open a new command prompt and enter: &lt;code&gt;echo %GOROOT%&lt;/code&gt;. You should see the installation directory echo&amp;rsquo;d out to the console window. Close the command prompt for the next step&lt;/li&gt;
&lt;li&gt;Next, we need to ensure that &lt;code&gt;GOPATH&lt;/code&gt; is set on your path

&lt;ul&gt;
&lt;li&gt;Right click on the start button&lt;/li&gt;
&lt;li&gt;Click on System&lt;/li&gt;
&lt;li&gt;Click on Advanced System Settings on the left&lt;/li&gt;
&lt;li&gt;Click on the Environment Variablesï¿½ button on the bottom&lt;/li&gt;
&lt;li&gt;In the User variables section, click the Newï¿½ button&lt;/li&gt;
&lt;li&gt;Type the name &lt;code&gt;GOPATH&lt;/code&gt; for the variable name&lt;/li&gt;
&lt;li&gt;In the value textbox, type in the folder where you wish to extract hugo to. Eg: &lt;code&gt;E:\GoLang\&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;With the Environment Variables window open still, edit the PATH variable under user to include `%GOPATH%\bin&lt;/li&gt;
&lt;li&gt;Re-open any command prompt windows so that the variables take effect&lt;/li&gt;
&lt;li&gt;Now we are ready to install hugo by running the following command: &lt;code&gt;go get -u -v github.com/spf13/hugo&lt;/code&gt;

&lt;ul&gt;
&lt;li&gt;This will download hugo, update its dependencies and build hugo. Expect this process to take 5 minutes or so.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Verify that hugo has downloaded successfully by running &lt;code&gt;hugo --help&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;configuring-git&#34;&gt;Configuring Git&lt;/h2&gt;

&lt;p&gt;Typically you can host on Github pages for two scenarios: Project pages or User/Organisation pages. When you are hosting the former, you will have a branch named &lt;code&gt;gh-pages&lt;/code&gt; which hosts the site within the project. The latter is what we are going to setup which requires the site to be present on the master branch. For this, we are going to use git submodules. This will mean that we actually have two repositories created, one for the hosted site and one for the structure code. This is actually quiet a nice way around an otherwise awkward branching model.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Create repository &lt;code&gt;&amp;lt;github-handle&amp;gt;.github.io&lt;/code&gt;, eg: &lt;code&gt;im5tu.github.io&lt;/code&gt;

&lt;ul&gt;
&lt;li&gt;This repository will contain the finished site&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Create repository &lt;code&gt;&amp;lt;github-handle&amp;gt;-hugo&lt;/code&gt;, eg: &lt;code&gt;im5tu-hugo&lt;/code&gt;

&lt;ul&gt;
&lt;li&gt;This repository will contain all of the generation code and templates etc&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Create a location on disk where you will store the generation files and navigate to that directory on the command line

&lt;ul&gt;
&lt;li&gt;Eg: &lt;code&gt;mkdir E:\im5tu-hugo &amp;amp;&amp;amp; cd E:\im5tu-hugo&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Next run the following command to make a new site in the new directory: &lt;code&gt;hugo new site .&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;It&amp;rsquo;s probably a good time to create the git respository and commit the code we have currently

&lt;ul&gt;
&lt;li&gt;To initialize the git repository: &lt;code&gt;git init&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add all the current files: &lt;code&gt;git add -A&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Commit all of the files: &lt;code&gt;git commit -am &amp;quot;Initial Commit&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add the remote url of your Github repository: &lt;code&gt;git remote add origin https://github.com/Im5tu/im5tu-hugo.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Push the code to your new repository: &lt;code&gt;git push -u origin master&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Next we are going to create a sub-module in the public directory. This folder is where the generated output goes.

&lt;ul&gt;
&lt;li&gt;I used GitKraken to do this, but you could do it from the command line also:&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git submodule add -b master git@github.com:&amp;lt;github-handle&amp;gt;/&amp;lt;github-handle&amp;gt;.github.io.git public&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Now we have that setup, commit everything again

&lt;ul&gt;
&lt;li&gt;Commit all of the files: &lt;code&gt;git commit -am &amp;quot;Initialized submodules&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Push the code to Github: &lt;code&gt;git push&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;From now on, when we generate our site with &lt;code&gt;hugo&lt;/code&gt; (the way we will generate our site) the files will be generated inside of the public directory. Then its a case of either committing the files in the main repository or changing to the public folder and committing the changes in that repository to push it to our live site.&lt;/p&gt;

&lt;p&gt;Out of curiosity, I tested to make sure that they have different git histories:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;E:\im5tu-hugo&amp;gt;git log --oneline
f3c2595 Initialized submodules
e60426b Initial commit

E:\im5tu-hugo&amp;gt;cd public &amp;amp;&amp;amp; git log --oneline
ef81fbc Create CNAME
3043605 Hello World
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This can be verified on both repositories &lt;a href=&#34;https://github.com/Im5tu/im5tu-hugo/commits/master&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://github.com/Im5tu/im5tu.github.io/commits/master&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;summary&#34;&gt;Summary&lt;/h2&gt;

&lt;p&gt;So far we have created our git repositories, installed both Go Lang and hugo and setup our workflow ready to begin work on our site. In the next article, I will begin adding a theme so that we can start publishing the posts that we are writing.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Hello World</title>
      <link>https://im5tu.io/article/2016/11/hello-world/</link>
      <pubDate>Thu, 17 Nov 2016 19:34:17 +0000</pubDate>
      
      <guid>https://im5tu.io/article/2016/11/hello-world/</guid>
      <description>&lt;p&gt;Hello World. Safe to say it&amp;rsquo;s been a little while since I have blogged or even had a website come to think of it. Alas, I am back with some fresh ideas and recharged to help you dear reader.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;Finally I&amp;rsquo;ve been able to match up my Github/Twitter handles with my website to make things alot easier to find. I&amp;rsquo;ve also began to build this site on a static site generator called hugo, hosted by Github pages and delivered through Cloudflare. My first port of call is to show you how i&amp;rsquo;ve done it should you wish to re-create my steps for yourself. Naturally, steps may vary as time progresses and things change - so feel free to fix any instructions on my &lt;a href=&#34;https://github.com/Im5tu/im5tu-hugo&#34;&gt;Github repository&lt;/a&gt;.&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>